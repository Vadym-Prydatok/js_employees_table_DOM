{"version":3,"sources":["scripts/main.js"],"names":["sortedCell","employeesBody","document","querySelector","titleSort","titleColumn","children","sumString","string","slice","split","join","addEventListener","e","sortRow","target","cellIndex","setAttribute","sortList","sort","a","b","cellA","textContent","cellB","getAttribute","localeCompare","append","matches","classList","remove","parentElement","add","newForm","createElement","newButton","id","className","body","after","createFormElements","element","child","attributes","newElement","newChild","key","name","type","required","selectCity","innerHTML","min","max","form","preventDefault","nameEmployee","value","position","office","age","salary","newEmployee","validation","Number","toLocaleString","pushNotification","reset","newCell","oldInfo","replaceChildren","focus","code","save","isValid","salaryChange","salaryWithout$","inputValue","columnName","validateName","validateAge","validateSalary","validateLength","trim","length","isFinite","posTop","posRight","title","description","box","heading","paragraph","style","top","right","setTimeout"],"mappings":"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","file":"main.bbedc2f2.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst employeesBody = document.querySelector('tbody');\nconst titleSort = document.querySelector('thead');\nconst titleColumn = titleSort.children[0].children;\nconst sumString = string => +string.slice(1).split(',').join('');\nlet sortedCell;\n\ntitleSort.addEventListener('click', (e) => {\n  const sortRow = e.target.cellIndex;\n\n  if (sortRow !== sortedCell) {\n    e.target.setAttribute('sorted', '');\n  }\n  sortedCell = sortRow;\n\n  const sortList = [...employeesBody.children].sort((a, b) => {\n    let cellA = a.children[sortRow].textContent;\n    let cellB = b.children[sortRow].textContent;\n\n    if (e.target.getAttribute('sorted') === 'ASC') {\n      cellA = b.children[sortRow].textContent;\n      cellB = a.children[sortRow].textContent;\n    }\n\n    if (cellA[0] === '$') {\n      return sumString(cellA) - sumString(cellB);\n    }\n\n    return cellA.localeCompare(cellB);\n  });\n\n  document.querySelector('tbody').append(...sortList);\n\n  if (e.target.getAttribute('sorted') === 'ASC') {\n    e.target.setAttribute('sorted', 'DECS');\n\n    return;\n  }\n\n  e.target.setAttribute('sorted', 'ASC');\n});\n\ndocument.addEventListener('click', (e) => {\n  if (!e.target.matches('TD')) {\n    return;\n  }\n\n  if (document.querySelector('.active')) {\n    document.querySelector('.active').classList.remove('active');\n  }\n\n  e.target.parentElement.classList.add('active');\n});\n\nconst newForm = document.createElement('form');\nconst newButton = document.createElement('button');\n\nnewButton.textContent = 'Save to table';\nnewButton.id = 'addEmployees';\nnewForm.id = 'addForm';\nnewForm.className = 'new-employee-form';\ndocument.body.children[0].after(newForm);\n\nconst createFormElements = (parentElement, element, child, attributes,) => {\n  const newElement = document.createElement('label');\n  const newChild = document.createElement(child);\n\n  newElement.textContent = element;\n\n  for (const key in attributes) {\n    newChild.setAttribute(key, attributes[key]);\n  }\n\n  newElement.append(newChild);\n  parentElement.append(newElement);\n};\n\ncreateFormElements(newForm, 'Name:', 'input', {\n  name: 'name',\n  type: 'text',\n  'data-qa': 'name',\n  id: 'inputName',\n  required: '',\n});\n\ncreateFormElements(newForm, 'Position:', 'input', {\n  name: 'position',\n  type: 'text',\n  'data-qa': 'position',\n  id: 'inputPosition',\n  required: '',\n});\n\ncreateFormElements(newForm, 'Office:', 'select', {\n  name: 'Office',\n  type: 'text',\n  'data-qa': 'office',\n  id: 'inputOffice',\n  required: '',\n});\n\nconst selectCity = document.querySelector('select');\n\nselectCity.innerHTML = `\n  <option>Tokyo</option>\n  <option>Singapore</option>\n  <option>London</option>\n  <option>New York</option>\n  <option>Edinburgh</option>\n  <option>San Francisco</option>\n`;\n\ncreateFormElements(newForm, 'Age:', 'input', {\n  name: 'age',\n  type: 'number',\n  'data-qa': 'age',\n  id: 'inputAge',\n  required: '',\n  min: 18,\n  max: 90,\n});\n\ncreateFormElements(newForm, 'Salary:', 'input', {\n  name: 'salary',\n  type: 'number',\n  'data-qa': 'salary',\n  id: 'inputSalary',\n  required: '',\n  min: 1,\n});\n\nnewForm.append(newButton);\n\nconst form = document.querySelector('#addForm');\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const nameEmployee = document.querySelector('#inputName').value;\n  const position = document.querySelector('#inputPosition').value;\n  const office = document.querySelector('#inputOffice').value;\n  const age = document.querySelector('#inputAge').value;\n  const salary = document.querySelector('#inputSalary').value;\n  const newEmployee = document.createElement('tr');\n\n  if (!validation(nameEmployee, 'Name')) {\n    return;\n  };\n\n  if (!validation(position, 'Position')) {\n    return;\n  }\n\n  if (!validation(age, 'Age')) {\n    return;\n  };\n\n  newEmployee.innerHTML = `\n    <td>${nameEmployee}</td>\n    <td>${position}</td>\n    <td>${office}</td>\n    <td>${age}</td>\n    <td>$${Number(salary).toLocaleString('en-US')}</td>\n  `;\n\n  employeesBody.append(newEmployee);\n\n  pushNotification(10, 10, 'Success!!!',\n    `${nameEmployee} has been added to the list.\\n `\n    + 'Keep it up.', 'success');\n\n  form.reset();\n});\n\nconst newCell = document.createElement('input');\nconst oldInfo = document.createElement('td');\n\nnewCell.classList.add('cell-input');\n\nemployeesBody.addEventListener('dblclick', (e) => {\n  newCell.value = e.target.textContent;\n  oldInfo.textContent = e.target.textContent;\n  e.target.replaceChildren(newCell);\n  newCell.focus();\n});\n\nemployeesBody.addEventListener('keyup', (e) => {\n  if (e.code === 'Enter' || e.code === 'NumpadEnter') {\n    save(e);\n  }\n});\n\nconst save = (e) => {\n  const isValid = validation(newCell.value,\n    titleColumn[e.target.parentElement.cellIndex].textContent);\n  const salaryChange = e.target.parentElement.cellIndex === 4;\n  const salaryWithout$ = newCell.value[0] !== '$';\n\n  if (isValid && salaryChange && salaryWithout$) {\n    newCell.parentElement.textContent\n      = `$${Number(newCell.value).toLocaleString('en-US')}`;\n\n    return;\n  }\n\n  if (isValid && salaryChange) {\n    newCell.parentElement.textContent\n      = `$${Number(sumString(newCell.value)).toLocaleString('en-US')}`;\n\n    return;\n  }\n\n  if (isValid) {\n    newCell.parentElement.textContent = newCell.value;\n\n    return;\n  }\n\n  newCell.parentElement.textContent = oldInfo.textContent;\n};\n\nnewCell.addEventListener('blur', (save));\n\nconst validation = (inputValue, columnName) => {\n  switch (columnName) {\n    case 'Name':\n      return validateName(inputValue);\n\n    case 'Age':\n      return validateAge(inputValue);\n\n    case 'Salary':\n      return validateSalary(inputValue);\n\n    case 'Position':\n      return validateLength(inputValue);\n\n    case 'Office':\n      return validateLength(inputValue);\n  };\n\n  return true;\n};\n\nconst validateName = (value) => {\n  if (value.trim().length < 4) {\n    pushNotification(150, 10, `${value} is not correct!`,\n      `You enter ${value}.\\n `\n    + 'Please enter more than 3 characters.', 'error');\n\n    return false;\n  }\n\n  return true;\n};\n\nconst validateLength = (value) => {\n  if (value.trim().length < 2) {\n    pushNotification(150, 10, `${value} is not correct!`,\n      `You enter ${value}.\\n `\n    + 'Please enter more than 1 characters.', 'error');\n\n    return false;\n  }\n\n  return true;\n};\n\nconst validateAge = (value) => {\n  if (!isFinite(value)) {\n    pushNotification(290, 10, 'Age is not correct!',\n      `You enter not a number\\n `\n      + 'Please enter corect number more 18 and less than 90.', 'error');\n\n    return false;\n  }\n\n  if (value < 18 || value > 90) {\n    pushNotification(290, 10, 'Age is not correct!',\n      `You enter ${value} years.\\n `\n      + 'Please enter more 18 and less than 90.', 'error');\n\n    return false;\n  }\n\n  return true;\n};\n\nconst validateSalary = (value) => {\n  if (value[0] === '$') {\n    if (!isFinite(sumString(value)) || sumString(value) < 1) {\n      pushNotification(290, 10, 'Salary is not correct!',\n        `You enter not a number\\n `\n        + 'Please enter corect number', 'error');\n\n      return false;\n    }\n\n    return true;\n  }\n\n  if (!isFinite(+value.split(',').join('')) || +value.split(',').join('') < 1) {\n    pushNotification(290, 10, 'Salary is not correct!',\n      `You enter not a number\\n `\n      + 'Please enter corect number', 'error');\n\n    return false;\n  }\n\n  return true;\n};\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const box = document.createElement('div');\n  const heading = document.createElement('h2');\n  const paragraph = document.createElement('p');\n\n  heading.textContent = title;\n  heading.className = 'title';\n  paragraph.textContent = description;\n  box.classList.add('notification', type);\n  box.setAttribute('data-qa', 'notification');\n\n  document.body.append(box);\n  box.append(heading);\n  box.append(paragraph);\n\n  box.style.top = `${posTop}px`;\n  box.style.right = `${posRight}px`;\n\n  setTimeout(() => box.remove(), 5000);\n};\n"]}